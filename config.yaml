# NRHOF Matrix Kiosk Configuration

# Render settings
render:
  backend: "pygame"          # pygame (current) | swift (future Metal renderer)
  resolution: [1280, 1024]
  fullscreen: false           # Run in fullscreen kiosk mode
  display: 0                 # 0=primary display, 1=secondary display
  fps_target: 60
  # Note: Colors, fonts, and visual styling now in styles/pipboy.yaml

# Audio settings
audio:
  sample_rate: 44100
  frame_size: 2048
  music_threshold: 0.01      # RMS threshold for music detection
  music_debounce: 0.5        # Seconds before state change
  poll_interval: 0.1         # Audio monitoring interval (100ms)

# Recognition settings (placeholder for future)
recognizer:
  enabled: false
  cooldown: 5.0              # Seconds between recognition attempts
  confidence_threshold: 0.7   # Minimum confidence to accept result
  same_track_window: 30.0    # Seconds to suppress duplicate recognition

# Integrations (placeholder for future)
integrations:
  webflow:
    enabled: false
    sync_window: 300.0       # Don't sync same track within 5 minutes
    retry_backoff_max: 300   # Max backoff in seconds

# Localization
localization:
  language: "en"  # en (English) | jp (Japanese)

# Wake word detection (Picovoice Porcupine)
# API key loaded from PICOVOICE_ACCESS_KEY environment variable
wake_word:
  enabled: false  # Set to true when you have Picovoice access key in .env
  picovoice_access_key: "${PICOVOICE_ACCESS_KEY}"  # Loaded from .env
  keywords: ["jarvis"]  # Built-in keywords: jarvis, alexa, computer, etc.
  keyword_paths: []  # Custom .ppn files (e.g., ["assets/wake_words/hey-nerd.ppn"])
  sensitivity: 0.5  # 0.0 (least sensitive) to 1.0 (most sensitive)

# Song recognition (ACRCloud)
# API keys loaded from ACRCLOUD_* environment variables
song_recognition:
  enabled: true  # Set to true when you have ACRCloud credentials in .env
  host: "identify-us-west-2.acrcloud.com"  # ACRCloud host
  access_key: "${ACRCLOUD_ACCESS_KEY}"  # Loaded from .env
  access_secret: "${ACRCLOUD_ACCESS_SECRET}"  # Loaded from .env
  timeout: 10  # API timeout in seconds
  min_interval_seconds: 30  # Minimum time between recognition attempts
  audio_buffer_seconds: 10  # Audio buffer length for recognition

# Feature flags
flags:
  use_prebaked_video: false
  use_live_math: true
  enable_recognition: false
  enable_webflow: false
  enable_voice: true
  offline_mode: false
  skip_intro: false  # Skip intro typewriter scene (for development)

# Note: Scene content (splash, intro, menu) now in content/ directory
# Note: Scene layouts now in layouts/ directory
# Note: Theme colors and fonts now in styles/ directory

# Visualizer settings
visualizers:
  spectrum_bars:
    bars: 32
    decay: 0.95
  
  waveform:
    num_waves: 3
    points: 100
    speed: 2.0
    freq_bands: [[20, 250], [250, 2000], [2000, 20000]]
  
  lissajous:
    a: 3
    b: 4
    delta: 1.5708
    trail: 50

# Logging
logging:
  level: "INFO"              # DEBUG, INFO, WARNING, ERROR
  file: "runtime/kiosk.log"
  max_size_mb: 10
  backup_count: 3
  structured: true           # JSON lines format